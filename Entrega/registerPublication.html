<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/login.css">
    <link href="./css/header.css" rel="stylesheet" type="text/css">
    <link href="./css/filtros.css" rel="stylesheet" type="text/css">
    <link href="./css/registerPublication.css" rel="stylesheet" type="text/css">
    <link href="./css/map.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div id="header">
        <div id="logo">
            <a href="./index.html">
                <img src="./img/logo.png" alt="Logo" id="logo">
            </a>
        </div>
        <div id="title">
            <span>Mascotas sin hogar</span>
        </div>
    </div>
    <div id="formContainer">

        <form>

            <header>Registro de publicación</header>

            <div>
                <label id="myData">
                    <h2>Mis datos</h2>
                </label>
            </div>
            <label>E-mail

            </label>
            <span id="spanEMail">*</span>
            <input type="text" name="username">
            <br>


            <label>Nombre completo

            </label>
            <span id="spanFullName">*</span>
            <input type="text" name="username">
            <br>


            <label>Contraseña
            </label>
            <span id="spanPassword">*</span>

            <input type="password" name="password">
            <br>


            <div>

            </div>
            <div>
                <label id="myData">
                    <h2>Datos de la mascota</h2>
                </label>
            </div>
            <div>
                <label>Añadir fotos
                </label>
                <span id="spanPhoto">*</span>

                <input type="file" name="pic" multiple accept="image/*">
            </div>
            <br>
            <div>
                <select name="pubType" form="filters">
                    <option value="" disabled selected>Tipo de publicación</option>
                    <option value="found">Encontrada</option>
                    <option value="lost">Perdida</option>
                </select>
            </div>

            <div>
                <select name="pubType" form="filters">
                    <option value="" disabled selected>Especie</option>
                    <option value="dog">Perro</option>
                    <option value="cat">Gato</option>
                    <option value="parrot">Loro</option>
                    <option value="cow">Vaca</option>
                </select>
            </div>

            <div>
                <select name="race" form="filters">
                    <option value="" disabled selected>Raza</option>
                    <option value="race1">Ovejero</option>
                    <option value="race2">Gato siames</option>
                    <option value="race3">Beagle</option>
                    <option value="race4">Coco</option>

                </select>

            </div>
            <div>
                <select name="neighbourhood" form="filters">
                    <option value="" disabled selected>Barrio</option>
                    <option value="1">Carrasco Norte</option>
                    <option value="2">Malvin</option>
                    <option value="3">Pocitos</option>
                    <option value="4">Centro</option>

                </select>
            </div>
            <div id="map">

            </div>
            <input type="hidden" name="lat" value="" id="lat">
            <input type="hidden" name="long" value="" id="long">
            <button>Añadir publicación</button>
        </form>
    </div>
    <script>
        function initMap() {
            let marker = new google.maps.Marker({
                    position: location
               
                });
            const uluru = {
                lat: -34.890357,
                lng: -56.106040099999994
            };

            let map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                center: uluru,
                fullscreenControl: false
            });

            function placeMarker(location) {
                marker.setMap(null);
                marker = new google.maps.Marker({
                    position: location,
                    map: map
                });

                document.getElementById("lat").setAttribute("value",location.lat().toString())
                document.getElementById("long").setAttribute("value",location.lng().toString())

                google.maps.event.addListener(map, 'click', function (event) {
                    placeMarker(event.latLng);
                });                
            }

            map.addListener('click', function (evt) {
                console.log(evt);
                const coords = evt.latLng
                placeMarker(coords)
            });
        }


    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAO1UoJKW5sKBIh1J-3uD7-4LHNVxiLx8w&callback=initMap">
    </script>
</body>

</html>